{"ast":null,"code":"var _jsxFileName = \"/Users/kirilldikalin/work/moscow_streets/src/components/YandexMap.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst YandexMap = ({\n  streets,\n  learnedStreets,\n  onStreetClick\n}) => {\n  _s();\n  const mapRef = useRef(null);\n  const mapInstanceRef = useRef(null);\n  const objectsRef = useRef([]);\n  useEffect(() => {\n    // Загрузка API Яндекс Карт\n    const script = document.createElement('script');\n    script.src = 'https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU';\n    script.async = true;\n    script.onload = initMap;\n    document.body.appendChild(script);\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n  useEffect(() => {\n    if (mapInstanceRef.current) {\n      updateStreets();\n    }\n  }, [streets, learnedStreets]);\n  const initMap = () => {\n    window.ymaps.ready(() => {\n      if (mapRef.current) {\n        mapInstanceRef.current = new window.ymaps.Map(mapRef.current, {\n          center: [55.76, 37.64],\n          // Центр Москвы\n          zoom: 12,\n          controls: ['zoomControl', 'fullscreenControl']\n        });\n      }\n    });\n  };\n  const updateStreets = () => {\n    // Очистка предыдущих объектов\n    objectsRef.current.forEach(obj => {\n      mapInstanceRef.current.geoObjects.remove(obj);\n    });\n    objectsRef.current = [];\n\n    // Добавление улиц на карту\n    streets.forEach(street => {\n      const isLearned = learnedStreets.includes(street.name);\n      const polyline = new window.ymaps.Polyline(street.coordinates, {\n        balloonContent: street.name,\n        strokeColor: isLearned ? '#4CAF50' : '#FF0000',\n        strokeWidth: 4\n      });\n      polyline.events.add('click', () => {\n        if (onStreetClick) {\n          onStreetClick(street);\n        }\n      });\n      mapInstanceRef.current.geoObjects.add(polyline);\n      objectsRef.current.push(polyline);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: mapRef,\n    style: {\n      width: '100%',\n      height: '100%'\n    }\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 10\n  }, this);\n};\n_s(YandexMap, \"cnD9RbH0V2WSnsBBBwidegZAOMU=\");\n_c = YandexMap;\nexport default YandexMap;\nvar _c;\n$RefreshReg$(_c, \"YandexMap\");","map":{"version":3,"names":["React","useEffect","useRef","jsxDEV","_jsxDEV","YandexMap","streets","learnedStreets","onStreetClick","_s","mapRef","mapInstanceRef","objectsRef","script","document","createElement","src","async","onload","initMap","body","appendChild","removeChild","current","updateStreets","window","ymaps","ready","Map","center","zoom","controls","forEach","obj","geoObjects","remove","street","isLearned","includes","name","polyline","Polyline","coordinates","balloonContent","strokeColor","strokeWidth","events","add","push","ref","style","width","height","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/Users/kirilldikalin/work/moscow_streets/src/components/YandexMap.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { Street } from '../data/districts';\n\ndeclare global {\n  interface Window {\n    ymaps: any;\n  }\n}\n\ninterface YandexMapProps {\n  streets: Street[];\n  learnedStreets: string[];\n  onStreetClick?: (street: Street) => void;\n}\n\nconst YandexMap: React.FC<YandexMapProps> = ({ streets, learnedStreets, onStreetClick }) => {\n  const mapRef = useRef<HTMLDivElement>(null);\n  const mapInstanceRef = useRef<any>(null);\n  const objectsRef = useRef<any[]>([]);\n\n  useEffect(() => {\n    // Загрузка API Яндекс Карт\n    const script = document.createElement('script');\n    script.src = 'https://api-maps.yandex.ru/2.1/?apikey=YOUR_API_KEY&lang=ru_RU';\n    script.async = true;\n    script.onload = initMap;\n    document.body.appendChild(script);\n\n    return () => {\n      document.body.removeChild(script);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (mapInstanceRef.current) {\n      updateStreets();\n    }\n  }, [streets, learnedStreets]);\n\n  const initMap = () => {\n    window.ymaps.ready(() => {\n      if (mapRef.current) {\n        mapInstanceRef.current = new window.ymaps.Map(mapRef.current, {\n          center: [55.76, 37.64], // Центр Москвы\n          zoom: 12,\n          controls: ['zoomControl', 'fullscreenControl']\n        });\n      }\n    });\n  };\n\n  const updateStreets = () => {\n    // Очистка предыдущих объектов\n    objectsRef.current.forEach(obj => {\n      mapInstanceRef.current.geoObjects.remove(obj);\n    });\n    objectsRef.current = [];\n\n    // Добавление улиц на карту\n    streets.forEach(street => {\n      const isLearned = learnedStreets.includes(street.name);\n      \n      const polyline = new window.ymaps.Polyline(street.coordinates, {\n        balloonContent: street.name,\n        strokeColor: isLearned ? '#4CAF50' : '#FF0000',\n        strokeWidth: 4\n      });\n\n      polyline.events.add('click', () => {\n        if (onStreetClick) {\n          onStreetClick(street);\n        }\n      });\n\n      mapInstanceRef.current.geoObjects.add(polyline);\n      objectsRef.current.push(polyline);\n    });\n  };\n\n  return <div ref={mapRef} style={{ width: '100%', height: '100%' }} />;\n};\n\nexport default YandexMap; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAejD,MAAMC,SAAmC,GAAGA,CAAC;EAAEC,OAAO;EAAEC,cAAc;EAAEC;AAAc,CAAC,KAAK;EAAAC,EAAA;EAC1F,MAAMC,MAAM,GAAGR,MAAM,CAAiB,IAAI,CAAC;EAC3C,MAAMS,cAAc,GAAGT,MAAM,CAAM,IAAI,CAAC;EACxC,MAAMU,UAAU,GAAGV,MAAM,CAAQ,EAAE,CAAC;EAEpCD,SAAS,CAAC,MAAM;IACd;IACA,MAAMY,MAAM,GAAGC,QAAQ,CAACC,aAAa,CAAC,QAAQ,CAAC;IAC/CF,MAAM,CAACG,GAAG,GAAG,gEAAgE;IAC7EH,MAAM,CAACI,KAAK,GAAG,IAAI;IACnBJ,MAAM,CAACK,MAAM,GAAGC,OAAO;IACvBL,QAAQ,CAACM,IAAI,CAACC,WAAW,CAACR,MAAM,CAAC;IAEjC,OAAO,MAAM;MACXC,QAAQ,CAACM,IAAI,CAACE,WAAW,CAACT,MAAM,CAAC;IACnC,CAAC;EACH,CAAC,EAAE,EAAE,CAAC;EAENZ,SAAS,CAAC,MAAM;IACd,IAAIU,cAAc,CAACY,OAAO,EAAE;MAC1BC,aAAa,CAAC,CAAC;IACjB;EACF,CAAC,EAAE,CAAClB,OAAO,EAAEC,cAAc,CAAC,CAAC;EAE7B,MAAMY,OAAO,GAAGA,CAAA,KAAM;IACpBM,MAAM,CAACC,KAAK,CAACC,KAAK,CAAC,MAAM;MACvB,IAAIjB,MAAM,CAACa,OAAO,EAAE;QAClBZ,cAAc,CAACY,OAAO,GAAG,IAAIE,MAAM,CAACC,KAAK,CAACE,GAAG,CAAClB,MAAM,CAACa,OAAO,EAAE;UAC5DM,MAAM,EAAE,CAAC,KAAK,EAAE,KAAK,CAAC;UAAE;UACxBC,IAAI,EAAE,EAAE;UACRC,QAAQ,EAAE,CAAC,aAAa,EAAE,mBAAmB;QAC/C,CAAC,CAAC;MACJ;IACF,CAAC,CAAC;EACJ,CAAC;EAED,MAAMP,aAAa,GAAGA,CAAA,KAAM;IAC1B;IACAZ,UAAU,CAACW,OAAO,CAACS,OAAO,CAACC,GAAG,IAAI;MAChCtB,cAAc,CAACY,OAAO,CAACW,UAAU,CAACC,MAAM,CAACF,GAAG,CAAC;IAC/C,CAAC,CAAC;IACFrB,UAAU,CAACW,OAAO,GAAG,EAAE;;IAEvB;IACAjB,OAAO,CAAC0B,OAAO,CAACI,MAAM,IAAI;MACxB,MAAMC,SAAS,GAAG9B,cAAc,CAAC+B,QAAQ,CAACF,MAAM,CAACG,IAAI,CAAC;MAEtD,MAAMC,QAAQ,GAAG,IAAIf,MAAM,CAACC,KAAK,CAACe,QAAQ,CAACL,MAAM,CAACM,WAAW,EAAE;QAC7DC,cAAc,EAAEP,MAAM,CAACG,IAAI;QAC3BK,WAAW,EAAEP,SAAS,GAAG,SAAS,GAAG,SAAS;QAC9CQ,WAAW,EAAE;MACf,CAAC,CAAC;MAEFL,QAAQ,CAACM,MAAM,CAACC,GAAG,CAAC,OAAO,EAAE,MAAM;QACjC,IAAIvC,aAAa,EAAE;UACjBA,aAAa,CAAC4B,MAAM,CAAC;QACvB;MACF,CAAC,CAAC;MAEFzB,cAAc,CAACY,OAAO,CAACW,UAAU,CAACa,GAAG,CAACP,QAAQ,CAAC;MAC/C5B,UAAU,CAACW,OAAO,CAACyB,IAAI,CAACR,QAAQ,CAAC;IACnC,CAAC,CAAC;EACJ,CAAC;EAED,oBAAOpC,OAAA;IAAK6C,GAAG,EAAEvC,MAAO;IAACwC,KAAK,EAAE;MAAEC,KAAK,EAAE,MAAM;MAAEC,MAAM,EAAE;IAAO;EAAE;IAAAC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAAE,CAAC;AACvE,CAAC;AAAC/C,EAAA,CAjEIJ,SAAmC;AAAAoD,EAAA,GAAnCpD,SAAmC;AAmEzC,eAAeA,SAAS;AAAC,IAAAoD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}